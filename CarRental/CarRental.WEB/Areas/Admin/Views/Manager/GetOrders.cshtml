@model CarRental.WEB.Models.OrderListViewModel
@using CarRental.WEB.Helpers;
@using CarRental.BLL

@{
    ViewBag.Title = "GetOrders";
}

<h2>@Resource.ManagerDashboard</h2>

<div class="content" id="order_area">
    <table class="table table-bordered table-striped">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Orders.FirstOrDefault().User_Id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Orders.FirstOrDefault().Car.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Orders.FirstOrDefault().OrdSum)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Orders.FirstOrDefault().StartTime)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Orders.FirstOrDefault().EndTime)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.Orders.FirstOrDefault().OrdSum)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Orders.FirstOrDefault().Status)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.Orders.FirstOrDefault().ManagComment)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model.Orders)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.User_Id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Car.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.OrdSum)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.StartTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EndTime)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.OrdSum)
                </td>
                <td>
                    <span>@item.Status</span>
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.ManagComment)
                </td>
                <td>
                    @Html.ActionLink(Resource.Edit, "EditStatus", new { Id = item.Id }, new { @class = "btn btn-warning  adm_but" })
                    @Html.ActionLink(Resource.Detail, "Details", new { Id = item.Id }, new { @class = "btn btn-info adm_but" })
                    @Html.ActionLink(Resource.Delete, "DeleteOrder", new { ordId = item.Id }, new { @class = "btn btn-danger adm_but" })
                </td>
            </tr>
        }

    </table>
</div>